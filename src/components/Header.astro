---
import { getLocaleFromUrl, useTranslations, getLocalizedPath } from '../i18n/utils';
import type { Locale } from '../i18n/translations';

const locale = getLocaleFromUrl(Astro.url) as Locale;
const t = useTranslations(locale);
const otherLocale: Locale = locale === 'es' ? 'en' : 'es';
---

<header class="fixed top-0 left-0 w-full h-20 bg-trama-red flex items-center justify-between px-8 md:px-14 z-50">
  <a href={`/${locale}`} class="flex items-center gap-3">
    <div class="w-8 h-8 bg-white flex items-center justify-center">
      <span class="font-secondary text-xl font-black text-trama-red">T</span>
    </div>
    <span class="font-secondary text-sm font-extrabold tracking-[2px] text-white">
      {t.hero.brand}
    </span>
  </a>
  <nav class="hidden md:flex items-center gap-8">
    <a href={`/${locale}#cases`} class="font-secondary text-xs font-semibold tracking-[1px] text-trama-red-light hover:text-white transition-colors">
      {t.nav.cases}
    </a>
    <a href={`/${locale}#timeline`} class="font-secondary text-xs font-semibold tracking-[1px] text-trama-red-light hover:text-white transition-colors">
      {t.nav.timeline}
    </a>
    <a href={`/${locale}#protagonists`} class="font-secondary text-xs font-semibold tracking-[1px] text-trama-red-light hover:text-white transition-colors">
      {t.nav.accused}
    </a>
    <a href={`/${locale}#documents`} class="font-secondary text-xs font-semibold tracking-[1px] text-trama-red-light hover:text-white transition-colors">
      {t.nav.documents}
    </a>
    <a
      href={getLocalizedPath(Astro.url.pathname, otherLocale)}
      class="font-secondary text-xs font-semibold tracking-[1px] text-white border border-white/30 px-3 py-1.5 hover:bg-white/10 transition-colors"
    >
      {otherLocale.toUpperCase()}
    </a>
  </nav>
</header>
