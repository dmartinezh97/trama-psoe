---
interface Props {
  name: string;
  role: string;
  initials: string;
  status: string;
  sentence?: string;
  variant?: 'red' | 'black' | 'white' | 'dark';
  showIcon?: boolean;
}

const { name, role, initials, status, sentence, variant = 'red', showIcon = false } = Astro.props;

const variantStyles = {
  red: {
    bg: 'bg-trama-red',
    initials: 'text-trama-red-dark',
    name: 'text-white',
    role: 'text-trama-red-light',
    statusBg: 'bg-black',
    statusText: 'text-white',
    statusDot: 'bg-white',
    sentence: 'text-white',
  },
  black: {
    bg: 'bg-black',
    initials: 'text-trama-900',
    name: 'text-white',
    role: 'text-trama-500',
    statusBg: 'bg-trama-red',
    statusText: 'text-white',
    statusDot: 'bg-white',
    sentence: 'text-white',
  },
  white: {
    bg: 'bg-white',
    initials: 'text-trama-50',
    name: 'text-black',
    role: 'text-trama-500',
    statusBg: 'bg-black',
    statusText: 'text-white',
    statusDot: '',
    sentence: '',
  },
  dark: {
    bg: 'bg-trama-850',
    initials: 'text-trama-800',
    name: 'text-white',
    role: 'text-trama-500',
    statusBg: 'bg-trama-red',
    statusText: 'text-white',
    statusDot: '',
    sentence: '',
  },
};

const styles = variantStyles[variant];
---

<div data-person-card class={`${styles.bg} relative h-full overflow-hidden`}>
  <!-- Initials Background -->
  <span class={`absolute right-[-10px] md:right-[-20px] bottom-[-20px] md:bottom-[-40px] font-secondary text-[120px] md:text-[200px] font-black ${styles.initials} select-none pointer-events-none`}>
    {initials}
  </span>

  <!-- Content -->
  <div class="absolute top-4 md:top-6 left-4 md:left-6 flex flex-col gap-1 md:gap-2">
    <h3 class={`font-secondary text-xl md:text-[28px] font-black tracking-[-1px] leading-none whitespace-pre-line ${styles.name}`}>
      {name}
    </h3>
    <span class={`font-secondary text-[10px] md:text-xs font-normal ${styles.role}`}>
      {role}
    </span>
  </div>

  <!-- Status Badge -->
  <div class={`absolute bottom-4 md:bottom-6 left-4 md:left-6 ${styles.statusBg} px-3 md:px-4 py-1.5 md:py-2 flex items-center gap-2`}>
    {styles.statusDot && (
      <span class={`w-1.5 md:w-2 h-1.5 md:h-2 rounded-full ${styles.statusDot}`}></span>
    )}
    {showIcon && (
      <svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
        <line x1="16" y1="2" x2="16" y2="6"></line>
        <line x1="8" y1="2" x2="8" y2="6"></line>
        <line x1="3" y1="10" x2="21" y2="10"></line>
      </svg>
    )}
    <span class={`font-secondary text-[10px] md:text-[11px] font-bold tracking-[1px] ${styles.statusText}`}>
      {status}
    </span>
  </div>

  <!-- Sentence (if applicable) -->
  {sentence && (
    <span class={`absolute bottom-5 md:bottom-7 right-4 md:right-6 font-secondary text-xs md:text-sm font-bold tracking-[1px] ${styles.sentence}`}>
      {sentence}
    </span>
  )}
</div>
