---
import PersonCard from '../ui/PersonCard.astro';
import { getLocaleFromUrl, useTranslations } from '../../i18n/utils';
import type { Locale } from '../../i18n/translations';

const locale = getLocaleFromUrl(Astro.url) as Locale;
const t = useTranslations(locale);
---

<section id="protagonists" data-protagonists class="bg-trama-950 px-5 md:px-14 py-12 md:py-20">
  <!-- Header -->
  <div class="flex flex-col md:flex-row md:items-end justify-between mb-6 md:mb-12">
    <h2 class="font-secondary text-[36px] md:text-6xl font-black tracking-[-2px] md:tracking-[-3px] leading-[0.95] text-white whitespace-pre-line">
      {t.protagonists.title}
    </h2>
    <div class="flex flex-col items-start md:items-end gap-1 mt-3 md:mt-0">
      <span class="font-secondary text-4xl md:text-7xl font-black tracking-[-2px] md:tracking-[-3px] text-trama-red">
        {t.protagonists.count}
      </span>
      <span class="font-secondary text-xs md:text-sm font-semibold tracking-[1px] md:tracking-[2px] text-trama-500">
        {t.protagonists.countLabel}
      </span>
    </div>
  </div>

  <!-- Protagonists Grid -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4">
    <div class="h-[200px] md:h-80">
      <PersonCard
        name={t.protagonists.abalos.name}
        role={t.protagonists.abalos.role}
        initials={t.protagonists.abalos.initials}
        status={t.protagonists.abalos.status}
        sentence={t.protagonists.abalos.sentence}
        variant="red"
      />
    </div>
    <div class="h-[200px] md:h-80">
      <PersonCard
        name={t.protagonists.koldo.name}
        role={t.protagonists.koldo.role}
        initials={t.protagonists.koldo.initials}
        status={t.protagonists.koldo.status}
        variant="black"
      />
    </div>
    <div class="h-[200px] md:h-80">
      <PersonCard
        name={t.protagonists.begona.name}
        role={t.protagonists.begona.role}
        initials={t.protagonists.begona.initials}
        status={t.protagonists.begona.status}
        variant="white"
      />
    </div>
    <div class="h-[200px] md:h-80">
      <PersonCard
        name={t.protagonists.david.name}
        role={t.protagonists.david.role}
        initials={t.protagonists.david.initials}
        status={t.protagonists.david.status}
        variant="dark"
        showIcon={true}
      />
    </div>
  </div>
</section>
