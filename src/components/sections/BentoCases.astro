---
import CardCaseBento from '../ui/CardCaseBento.astro';
import { getLocaleFromUrl, useTranslations } from '../../i18n/utils';
import type { Locale } from '../../i18n/translations';

const locale = getLocaleFromUrl(Astro.url) as Locale;
const t = useTranslations(locale);
---

<section id="cases" class="bg-trama-950 px-8 md:px-14 py-16 md:py-20">
  <!-- Header -->
  <div class="flex flex-col md:flex-row md:items-end justify-between mb-6">
    <h2 class="font-secondary text-5xl md:text-7xl font-black tracking-[-3px] text-white">
      {t.cases.title}
    </h2>
    <span class="font-secondary text-sm font-medium tracking-[1px] text-trama-500 mt-2 md:mt-0">
      {t.cases.subtitle}
    </span>
  </div>

  <!-- Bento Grid -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 h-auto lg:h-[600px]">
    <!-- Left Column - Koldo (large) -->
    <div class="h-[350px] lg:h-full">
      <CardCaseBento
        number={t.cases.koldo.number}
        title={t.cases.koldo.title}
        description={t.cases.koldo.description}
        status={t.cases.koldo.status}
        variant="red"
        size="large"
      />
    </div>

    <!-- Right Column -->
    <div class="flex flex-col gap-4 h-auto lg:h-full">
      <!-- Top Row - Begona & Hidrocarburos -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 h-auto sm:h-[290px] lg:h-1/2">
        <div class="h-[250px] sm:h-full">
          <CardCaseBento
            number={t.cases.begona.number}
            title={t.cases.begona.title}
            description={t.cases.begona.description}
            status={t.cases.begona.status}
            variant="white"
            size="small"
          />
        </div>
        <div class="h-[250px] sm:h-full">
          <CardCaseBento
            number={t.cases.hidrocarburos.number}
            title={t.cases.hidrocarburos.title}
            description={t.cases.hidrocarburos.description}
            status={t.cases.hidrocarburos.status}
            variant="black"
            size="small"
          />
        </div>
      </div>

      <!-- Bottom Row - David (wide) -->
      <div class="h-[250px] lg:h-1/2">
        <CardCaseBento
          number={t.cases.david.number}
          title={t.cases.david.title}
          description={t.cases.david.description}
          status={t.cases.david.status}
          variant="dark"
          size="small"
        />
      </div>
    </div>
  </div>
</section>
