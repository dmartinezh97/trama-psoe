---
import CardCaseBento from '../ui/CardCaseBento.astro';
import { getLocaleFromUrl, useTranslations } from '../../i18n/utils';
import type { Locale } from '../../i18n/translations';

const locale = getLocaleFromUrl(Astro.url) as Locale;
const t = useTranslations(locale);
---

<section id="cases" data-bento class="bg-trama-950 px-5 md:px-14 py-12 md:py-20">
  <!-- Header -->
  <div class="flex flex-col md:flex-row md:items-end justify-between mb-4 md:mb-6">
    <h2 class="font-secondary text-[40px] md:text-7xl font-black tracking-[-2px] md:tracking-[-3px] text-white leading-none">
      {t.cases.title}
    </h2>
    <span class="font-secondary text-xs md:text-sm font-medium tracking-[1px] text-trama-500 mt-2 md:mt-0">
      {t.cases.subtitle}
    </span>
  </div>

  <!-- Bento Grid -->
  <div class="flex flex-col lg:grid lg:grid-cols-2 gap-3 md:gap-4 lg:h-[750px]">
    <!-- Left Column -->
    <div class="flex flex-col gap-3 md:gap-4 lg:h-full">
      <!-- Koldo (large) -->
      <div class="h-[200px] lg:h-auto lg:flex-[1.5]">
        <CardCaseBento
          number={t.cases.koldo.number}
          title={t.cases.koldo.title}
          description={t.cases.koldo.description}
          status={t.cases.koldo.status}
          variant="red"
          size="large"
        />
      </div>
      <!-- Saunas -->
      <div class="h-[160px] lg:h-auto lg:flex-1">
        <CardCaseBento
          number={t.cases.saunas.number}
          title={t.cases.saunas.title}
          description={t.cases.saunas.description}
          status={t.cases.saunas.status}
          variant="dark"
          size="small"
        />
      </div>
    </div>

    <!-- Right Column -->
    <div class="flex flex-col gap-3 md:gap-4 lg:h-full">
      <!-- Begona -->
      <div class="h-[160px] lg:h-auto lg:flex-1">
        <CardCaseBento
          number={t.cases.begona.number}
          title={t.cases.begona.title}
          description={t.cases.begona.description}
          status={t.cases.begona.status}
          variant="white"
          size="small"
        />
      </div>
      <!-- Hidrocarburos -->
      <div class="h-[160px] lg:h-auto lg:flex-1">
        <CardCaseBento
          number={t.cases.hidrocarburos.number}
          title={t.cases.hidrocarburos.title}
          description={t.cases.hidrocarburos.description}
          status={t.cases.hidrocarburos.status}
          variant="black"
          size="small"
        />
      </div>
      <!-- David -->
      <div class="h-[160px] lg:h-auto lg:flex-1">
        <CardCaseBento
          number={t.cases.david.number}
          title={t.cases.david.title}
          description={t.cases.david.description}
          status={t.cases.david.status}
          variant="dark"
          size="small"
        />
      </div>
    </div>
  </div>
</section>
