---
import LandingLayout from '../../../layouts/LandingLayout.astro';
import DocumentosHero from '../../../components/sections/DocumentosHero.astro';
import DocumentosFuentesSection from '../../../components/sections/DocumentosFuentesSection.astro';
import DocumentosTribunalesSection from '../../../components/sections/DocumentosTribunalesSection.astro';
import DocumentosDisclaimerSection from '../../../components/sections/DocumentosDisclaimerSection.astro';
import DocumentosFooter from '../../../components/sections/DocumentosFooter.astro';
import { translations } from '../../../i18n/translations';

const t = translations.es.documentosPage;

const sources = [
  { icon: 'shield', href: '/es/documentos/uco', ...t.fuentes.uco },
  { icon: 'scale', href: '/es/documentos/autos', ...t.fuentes.autos },
  { icon: 'file-search', href: '/es/documentos/igae', ...t.fuentes.igae },
  { icon: 'mic', href: '/es/documentos/testimonios', ...t.fuentes.testimonios },
];

const tribunales = [
  { icon: 'building-2', ...t.tribunales.supremo },
  { icon: 'building-2', ...t.tribunales.audiencia },
  { icon: 'gavel', ...t.tribunales.ji41 },
  { icon: 'gavel', ...t.tribunales.badajoz },
  { icon: 'globe', ...t.tribunales.fiscalia },
];
---

<LandingLayout title="Documentos - Trama PSOE">
  <DocumentosHero
    tag={t.hero.tag}
    title={t.hero.title}
    subtitle={t.hero.subtitle}
  />

  <DocumentosFuentesSection
    title={t.fuentes.title}
    sources={sources}
  />

  <DocumentosTribunalesSection
    title={t.tribunales.title}
    tribunales={tribunales}
  />

  <DocumentosDisclaimerSection
    title={t.disclaimer.title}
    text={t.disclaimer.text}
    date={t.disclaimer.date}
  />

  <DocumentosFooter
    text={t.footer.text}
    links={t.footer.links}
  />
</LandingLayout>

<script>
  import { initDocumentosPageAnimations, cleanupAnimations } from '../../../scripts/animations';

  // Initialize animations on page load
  document.addEventListener('DOMContentLoaded', () => {
    initDocumentosPageAnimations();
  });

  // Cleanup on page navigation (for View Transitions)
  document.addEventListener('astro:before-swap', () => {
    cleanupAnimations();
  });

  // Re-initialize on page navigation
  document.addEventListener('astro:after-swap', () => {
    initDocumentosPageAnimations();
  });
</script>
