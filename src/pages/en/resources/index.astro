---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const resources = await getCollection('resources', ({ data }) => data.locale === 'en');
---

<BaseLayout title="Resources">
  <div class="space-y-6">
    <h1 class="text-3xl font-bold text-gray-900">Resources</h1>

    <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
      {resources.map((resource) => (
        <a
          href={`/en/resources/${resource.id.replace('en/', '')}`}
          class="block rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition hover:shadow-md"
        >
          <h2 class="text-lg font-semibold text-gray-900">{resource.data.title}</h2>
          {resource.data.description && (
            <p class="mt-2 text-sm text-gray-600">{resource.data.description}</p>
          )}
          {resource.data.date && (
            <p class="mt-4 text-xs text-gray-400">
              {resource.data.date.toLocaleDateString('en-US')}
            </p>
          )}
        </a>
      ))}
    </div>

    {resources.length === 0 && (
      <p class="text-gray-500">No resources available.</p>
    )}
  </div>
</BaseLayout>
