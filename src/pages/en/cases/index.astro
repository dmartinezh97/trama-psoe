---
import LandingLayout from '../../../layouts/LandingLayout.astro';
import CasesHero from '../../../components/sections/CasesHero.astro';
import CaseSection from '../../../components/sections/CaseSection.astro';
import CasesFooter from '../../../components/sections/CasesFooter.astro';
import { translations } from '../../../i18n/translations';

const t = translations.en.casesPage;
const labels = t.labels;
const seo = translations.en.seo.casos;
---

<LandingLayout title={seo.title} description={seo.description}>
  <CasesHero
    tagline={t.hero.tagline}
    title={t.hero.title}
    subtitle={t.hero.subtitle}
  />

  <!-- Koldo Case -->
  <CaseSection
    caseNumber="01"
    variant="primary"
    height="800px"
    tag={t.koldo.tag}
    title={t.koldo.title}
    subtitle={t.koldo.subtitle}
    description={t.koldo.description}
    stats={t.koldo.stats}
    defendants={t.koldo.defendants}
    trialInfo={{ icon: 'scale', text: t.koldo.trial }}
    labels={{ defendants: labels.mainDefendants }}
  />

  <!-- Begoña Case -->
  <CaseSection
    caseNumber="02"
    variant="light"
    height="800px"
    tag={t.begona.tag}
    title={t.begona.title}
    subtitle={t.begona.subtitle}
    description={t.begona.description}
    crimes={t.begona.crimes}
    defendants={t.begona.defendants}
    trialInfo={{ icon: 'gavel', text: t.begona.trial }}
    labels={{
      defendants: labels.defendantsInCase,
      crimes: `5 ${labels.crimesInvestigated}`,
    }}
  />

  <!-- Hydrocarbons Case -->
  <CaseSection
    caseNumber="03"
    variant="dark"
    height="700px"
    tag={t.hidrocarburos.tag}
    title={t.hidrocarburos.title}
    subtitle={t.hidrocarburos.subtitle}
    description={t.hidrocarburos.description}
    stats={t.hidrocarburos.stats}
    ministries={t.hidrocarburos.ministries}
    labels={{ ministries: labels.ministriesAffected }}
  />

  <!-- David Sánchez Case -->
  <CaseSection
    caseNumber="04"
    variant="dark-alt"
    height="700px"
    tag={t.david.tag}
    title={t.david.title}
    subtitle={t.david.subtitle}
    description={t.david.description}
    stats={t.david.stats}
    crimes={t.david.crimes}
    trialInfo={{ icon: 'calendar', text: t.david.trial }}
    labels={{ crimes: `4 ${labels.crimes}` }}
  />

  <!-- Saunas Case -->
  <CaseSection
    caseNumber="05"
    variant="dark"
    height="auto"
    tag={t.saunas.tag}
    title={t.saunas.title}
    subtitle={t.saunas.subtitle}
    description={t.saunas.description}
    stats={t.saunas.stats}
    locations={t.saunas.locations}
    keyFigures={t.saunas.keyFigures}
    judicialRecords={t.saunas.judicialRecords}
    timeline={t.saunas.timeline}
    statusBadge={t.saunas.status}
    labels={{
      locations: labels.locations,
      keyFigures: labels.keyFigures,
      judicialRecords: labels.judicialRecords,
      timeline: labels.timeline,
    }}
  />

  <CasesFooter
    title={t.footer.title}
    links={t.footer.links}
  />
</LandingLayout>

<script>
  import { initCasesPageAnimations, cleanupAnimations } from '../../../scripts/animations';

  // Initialize animations on page load
  document.addEventListener('DOMContentLoaded', () => {
    initCasesPageAnimations();
  });

  // Cleanup on page navigation (for View Transitions)
  document.addEventListener('astro:before-swap', () => {
    cleanupAnimations();
  });

  // Re-initialize on page navigation
  document.addEventListener('astro:after-swap', () => {
    initCasesPageAnimations();
  });
</script>
